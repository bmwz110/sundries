<!--
  如果字符串的长度比指定的参数num长，则把多余的部分用...来表示。

  切记，插入到字符串尾部的三个点号也会计入字符串的长度。

  但是，如果指定的参数num小于或等于3，则添加的三个点号不会计入字符串的长度。
-->
<html>
  <head>
    <meta charset="utf-8">
    <title>test</title>
  </head>
  <body>
    <script>
      function truncate(str, num) {
        var len = str.length;
        var newStr = "";
        if (len > num) {
          if (num <= 3) {
            newStr = str.slice(0, num) + "...";
            return newStr;
          } else {
            newStr = str.slice(0, num - 3) + "...";
            return newStr;
          }
        }
        return str;
      }

      truncate("A-tisket a-tasket A green and yellow basket", "A-tisket a-tasket A green and yellow basket".length);

    </script>
  </body>
</html>